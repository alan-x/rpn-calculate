!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var E=t();for(var o in E)("object"==typeof exports?exports:e)[o]=E[o]}}(window,function(){return function(e){var t={};function E(o){if(t[o])return t[o].exports;var T=t[o]={i:o,l:!1,exports:{}};return e[o].call(T.exports,T,T.exports,E),T.l=!0,T.exports}return E.m=e,E.c=t,E.d=function(e,t,o){E.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},E.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},E.t=function(e,t){if(1&t&&(e=E(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(E.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var T in e)E.d(o,T,function(t){return e[t]}.bind(null,T));return o},E.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return E.d(t,"a",t),t},E.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},E.p="",E(E.s=5)}([function(e,t){type={TYPE_NUMBER:"TYPE_NUMBER",TYPE_LEFT_BRACKET:"TYPE_LEFT_BRACKET",TYPE_RIGHT_BRACKET:"TYPE_RIGHT_BRACKET",TYPE_OPERATION_ADD:"TYPE_OPERATION_ADD",TYPE_OPERATION_SUB:"TYPE_OPERATION_SUB",TYPE_OPERATION_MUL:"TYPE_OPERATION_MUL",TYPE_OPERATION_DIV:"TYPE_OPERATION_DIV"},e.exports=type},function(e,t,E){const o=E(0);function T(e,t,E){switch(E.type){case o.TYPE_OPERATION_ADD:return e+t;case o.TYPE_OPERATION_SUB:return e-t;case o.TYPE_OPERATION_MUL:return e*t;case o.TYPE_OPERATION_DIV:return e/t;default:throw`unkonw operation: ${E.type}:${E.value}`}}e.exports=function(e){let t;e=e.reverse();let E=[];for(;e.length;)switch((t=e.pop()).type){case o.TYPE_NUMBER:E.push(t.value),console.log(E);break;case o.TYPE_OPERATION_ADD:case o.TYPE_OPERATION_SUB:case o.TYPE_OPERATION_MUL:case o.TYPE_OPERATION_DIV:{let e=E.pop(),o=E.pop();E.push(T(o,e,t)),console.log(`${o}${t.value}${e}`),console.log(E);break}default:throw`error: unknow type ${t.value}`}return E[0]}},function(e,t,E){const o=E(0);e.exports=function(e){let t;e=e.reverse();let E=[],T=[];for(;e.length;)switch((t=e.pop()).type){case o.TYPE_NUMBER:E.push(t);break;case o.TYPE_OPERATION_ADD:for(;T.length;){let e=T.pop();if(e.type===o.TYPE_LEFT_BRACKET){T.push(e);break}E.push(e)}T.push(t);break;case o.TYPE_OPERATION_SUB:for(;T.length;){let e=T.pop();E.push(e)}T.push(t);break;case o.TYPE_OPERATION_MUL:case o.TYPE_OPERATION_DIV:case o.TYPE_LEFT_BRACKET:T.push(t);break;case o.TYPE_RIGHT_BRACKET:for(var n=T.pop();n.type!==o.TYPE_LEFT_BRACKET;)E.push(n),n=T.pop();break;default:throw`error type: ${t.type}`}for(;T.length;)E.push(T.pop());return E}},function(e,t,E){const o=E(0);let T={[o.TYPE_NUMBER]:[o.TYPE_OPERATION_ADD,o.TYPE_OPERATION_SUB,o.TYPE_OPERATION_MUL,o.TYPE_OPERATION_DIV,o.TYPE_RIGHT_BRACKET],[o.TYPE_OPERATION_ADD]:[o.TYPE_NUMBER,o.TYPE_LEFT_BRACKET],[o.TYPE_OPERATION_SUB]:[o.TYPE_NUMBER,o.TYPE_LEFT_BRACKET],[o.TYPE_OPERATION_MUL]:[o.TYPE_NUMBER,o.TYPE_LEFT_BRACKET],[o.TYPE_OPERATION_DIV]:[o.TYPE_NUMBER,o.TYPE_LEFT_BRACKET],[o.TYPE_LEFT_BRACKET]:[o.TYPE_NUMBER,o.TYPE_LEFT_BRACKET],[o.TYPE_RIGHT_BRACKET]:[o.TYPE_OPERATION_ADD,o.TYPE_OPERATION_SUB,o.TYPE_OPERATION_MUL,o.TYPE_OPERATION_DIV,o.TYPE_RIGHT_BRACKET]};e.exports=function(e,t=!1){let E=0,n=(e=e.reverse()).pop();if(![o.TYPE_NUMBER,o.TYPE_LEFT_BRACKET].includes(n.type))throw`syntax error: could not begin with ${n.value}`;for(n.type===o.TYPE_LEFT_BRACKET&&E++;e.length;){let t=e.pop();if(!T[n.type].includes(t.type))throw`syntax error: ${n.value} -> ${t.value}`;t.type===o.TYPE_LEFT_BRACKET&&E++,t.type===o.TYPE_RIGHT_BRACKET&&E--,n=t}if(E<0)throw"syntax error: toooooo much ) -> )";if(t&&0!==E)throw"syntax error: lack of ( or )";return!0}},function(e,t,E){const o=E(0);e.exports=function(e){let t,E=e.split("").reverse(),T=[];for(;E.length;){if((t=E.pop()).match(/[0-9]/)){let e=E.pop();for(;void 0!==e&&e.match(/[0-9]/);)t+=e,e=E.pop();T.push({type:o.TYPE_NUMBER,value:+t}),t=e}if(void 0===t)break;switch(t){case"(":T.push({type:o.TYPE_LEFT_BRACKET,value:"("});continue;case")":T.push({type:o.TYPE_RIGHT_BRACKET,value:")"});continue;case"+":T.push({type:o.TYPE_OPERATION_ADD,value:"+"});continue;case"-":T.push({type:o.TYPE_OPERATION_SUB,value:"-"});continue;case"*":T.push({type:o.TYPE_OPERATION_MUL,value:"*"});continue;case"/":T.push({type:o.TYPE_OPERATION_DIV,value:"/"});continue;default:throw`error input: ${t}`}}return T}},function(e,t,E){"use strict";E.r(t),E.d(t,"tokenize",function(){return o}),E.d(t,"syntaxAnalyze",function(){return T}),E.d(t,"parse",function(){return n}),E.d(t,"calculate",function(){return r});const o=E(4),T=E(3),n=E(2),r=E(1);window.tokenize=o,window.syntaxAnalyze=T,window.parse=n,window.calculate=r}])});