!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var E=t[n]={i:n,l:!1,exports:{}};return e[n].call(E.exports,E,E.exports,r),E.l=!0,E.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var E in e)r.d(n,E,function(t){return e[t]}.bind(null,E));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=5)}([function(e,t){type={TYPE_EMPTY:"",TYPE_NUMBER:"number",TYPE_OPERATION:"operation",TYPE_LEFT_BRACKET:"(",TYPE_RIGHT_BRACKET:")",TYPE_OPERATION_ADD:"+",TYPE_OPERATION_SUB:"-",TYPE_OPERATION_MUL:"*",TYPE_OPERATION_DIV:"/"},e.exports={type:type,getType:function(e){if(e.match(/[0-9|\.]/g))return type.TYPE_NUMBER;if(e.match(/[\+\-\*\/]/g))return type.TYPE_OPERATION;if(e.match(/\(/))return type.TYPE_LEFT_BRACKET;if(e.match(/\)/))return type.TYPE_RIGHT_BRACKET;throw"not found this type: "+e}}},function(e,t,r){const n=r(0).type,E=r(0).getType,a={[n.TYPE_EMPTY]:[n.TYPE_LEFT_BRACKET,n.TYPE_NUMBER],[n.TYPE_NUMBER]:[n.TYPE_NUMBER,n.TYPE_RIGHT_BRACKET,n.TYPE_OPERATION],[n.TYPE_OPERATION]:[n.TYPE_NUMBER,n.TYPE_LEFT_BRACKET],[n.TYPE_LEFT_BRACKET]:[n.TYPE_NUMBER,n.TYPE_LEFT_BRACKET],[n.TYPE_RIGHT_BRACKET]:[n.TYPE_OPERATION,n.TYPE_RIGHT_BRACKET]};function o(e,t){return!!a[e]&&a[e].find(e=>e===t)}function T(e,t){if(!o(e,t))throw`syntax error: '${e}' -> '${t}'`;return!0}e.exports={syntaxAnalyzer:o,syntaxCheck:T,syntaxCheckWithText:function(e=""){if(0===e.length)return!0;e=e.split("").reverse();for(var t=n.TYPE_EMPTY,r=E(e.pop()),a=0;e.length>=0;){if(r===n.TYPE_LEFT_BRACKET?++a:r===n.TYPE_RIGHT_BRACKET&&--a,a<0)throw"syntax error: num of ')' could no more than '('";if(T(t,r),0===e.length)break;t=r,r=E(e.pop())}return!0}}},function(e,t,r){const n=r(0).type,E=r(4).lexicalAnalyzer;e.exports={parse:function(e){for(var t=[],r=[],a=E(e).reverse();a.length;){let e=a.pop();switch(e.type){case n.TYPE_NUMBER:t.push(e);break;case n.TYPE_OPERATION:case n.TYPE_LEFT_BRACKET:r.push(e);break;case n.TYPE_RIGHT_BRACKET:for(var o=r.pop();"("!==o.value;)t.push(o),o=r.pop();break;default:throw"not found this type"+e.type}}for(;r.length;)t.push(r.pop());return t}}},function(e,t,r){var n=r(2).parse;const E=r(0).type;function a(e){var t,r,n=[];for(e=e.reverse();e.length;){var a=e.pop();switch(a.type){case E.TYPE_NUMBER:n.push(a.value);break;case E.TYPE_OPERATION:switch(t=+n.pop(),r=+n.pop(),a.value){case E.TYPE_OPERATION_ADD:n.push(r+t);break;case E.TYPE_OPERATION_SUB:n.push(r-t);break;case E.TYPE_OPERATION_MUL:n.push(r*t);break;case E.TYPE_OPERATION_DIV:n.push(r/t);break;default:throw"not found this type of operation:"+a}}}return n[0]}e.exports={calculate:a,directCalculate:function(e){return a(n(e))}}},function(e,t,r){const n=r(0).type,E=r(1).syntaxCheck;e.exports={lexicalAnalyzer:function(e){e=e.split("").reverse();for(var t=[],r="",a=n.TYPE_EMPTY,o=0;e.length;){let T=e.pop();switch(T){case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":switch(a){case n.TYPE_NUMBER:E(a,n.TYPE_NUMBER),r+=T;break;case n.TYPE_EMPTY:r=T,a=n.TYPE_NUMBER;break;default:t.push({type:a,value:r}),r=T,a=n.TYPE_NUMBER}break;case"+":case"-":case"*":case"/":E(a,n.TYPE_OPERATION),t.push({type:a,value:a===n.TYPE_NUMBER?+r:r}),a=n.TYPE_OPERATION,r=T;break;case"(":E(a,n.TYPE_LEFT_BRACKET),a!==n.TYPE_EMPTY&&t.push({type:a,value:a===n.TYPE_NUMBER?+r:r}),a=n.TYPE_LEFT_BRACKET,r=T,++o;break;case")":if(E(a,n.TYPE_RIGHT_BRACKET),--o<0)throw"syntax error: num of ')' could no more than '('";a!==n.TYPE_EMPTY&&t.push({type:a,value:a===n.TYPE_NUMBER?+r:r}),a=n.TYPE_RIGHT_BRACKET,r=T;break;default:throw"not allow morpheme:"+T}}return t.push({type:a,value:a===n.TYPE_NUMBER?+r:r}),t}}},function(e,t,r){const n=r(2),E=r(3),a=r(1);e.exports={parse:n,calculate:E.calculate,directCalculate:E.directCalculate,syntaxAnalyzer:a.syntaxAnalyzer,syntaxCheck:a.syntaxCheck,syntaxCheckWithText:a.syntaxCheckWithText}}])});